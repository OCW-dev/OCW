"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.decimal = exports.WAD = void 0;
const crypto_lib_1 = require("@okxweb3/crypto-lib");
const base_1 = require("./base");
const bigint_1 = require("./bigint");
exports.WAD = new crypto_lib_1.BigNumber('1e+18');
const decimal = (property) => {
    const layout = (0, bigint_1.u128)(property);
    const { encode, decode } = (0, base_1.encodeDecode)(layout);
    const decimalLayout = layout;
    decimalLayout.decode = (buffer, offset) => {
        const src = decode(buffer, offset).toString();
        return new crypto_lib_1.BigNumber(src).div(exports.WAD);
    };
    decimalLayout.encode = (decimal, buffer, offset) => {
        const src = BigInt(decimal.times(exports.WAD).integerValue().toString());
        return encode(src, buffer, offset);
    };
    return decimalLayout;
};
exports.decimal = decimal;
//# sourceMappingURL=decimal.js.map