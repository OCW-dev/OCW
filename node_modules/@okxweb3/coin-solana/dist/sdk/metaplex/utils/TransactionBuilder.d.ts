import { SignaturePubkeyPair, Transaction, TransactionInstruction, TransactionSignature } from '../../web3';
import { Signer, Program } from '../types';
export type BlockhashWithExpiryBlockHeight = Readonly<{
    blockhash: string;
    lastValidBlockHeight: number;
}>;
export type InstructionWithSigners = {
    instruction: TransactionInstruction;
    signers: Signer[];
    key?: string;
};
type TransactionOptions = {
    signatures?: Array<SignaturePubkeyPair>;
};
export type TransactionBuilderOptions = {
    payer?: Signer;
    programs?: Program[];
};
export declare class TransactionBuilder<C extends object = object> {
    protected records: InstructionWithSigners[];
    protected transactionOptions: TransactionOptions;
    protected feePayer: Signer | undefined;
    protected context: C;
    constructor(transactionOptions?: TransactionOptions);
    static make<C extends object = object>(transactionOptions?: TransactionOptions): TransactionBuilder<C>;
    prepend(...txs: (InstructionWithSigners | TransactionBuilder)[]): TransactionBuilder<C>;
    append(...txs: (InstructionWithSigners | TransactionBuilder)[]): TransactionBuilder<C>;
    add(...txs: (InstructionWithSigners | TransactionBuilder)[]): TransactionBuilder<C>;
    splitUsingKey(key: string, include?: boolean): [TransactionBuilder, TransactionBuilder];
    splitBeforeKey(key: string): [TransactionBuilder, TransactionBuilder];
    splitAfterKey(key: string): [TransactionBuilder, TransactionBuilder];
    getInstructionsWithSigners(): InstructionWithSigners[];
    getInstructions(): TransactionInstruction[];
    getInstructionCount(): number;
    isEmpty(): boolean;
    getSigners(): Signer[];
    setTransactionOptions(transactionOptions: TransactionOptions): TransactionBuilder<C>;
    getTransactionOptions(): TransactionOptions | undefined;
    setFeePayer(feePayer: Signer): TransactionBuilder<C>;
    getFeePayer(): Signer | undefined;
    setContext(context: C): TransactionBuilder<C>;
    getContext(): C;
    when(condition: boolean, callback: (tx: TransactionBuilder<C>) => TransactionBuilder<C>): TransactionBuilder<C>;
    unless(condition: boolean, callback: (tx: TransactionBuilder<C>) => TransactionBuilder<C>): TransactionBuilder<C>;
    toTransaction(blockhashWithExpiryBlockHeight: BlockhashWithExpiryBlockHeight, options?: TransactionOptions): Transaction;
}
export declare function getSignedTransaction(transaction: Transaction | TransactionBuilder, signers: Signer[] | undefined, blockhashWithExpiryBlockHeight: BlockhashWithExpiryBlockHeight): TransactionSignature;
export declare function getSerializedTransaction(transaction: Transaction | TransactionBuilder, signers: Signer[] | undefined, blockhashWithExpiryBlockHeight: BlockhashWithExpiryBlockHeight): TransactionSignature;
export {};
